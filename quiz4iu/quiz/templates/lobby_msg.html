{% extends 'base_layout.html' %}

{% block content %}

<style>
    .room-container{
        display: grid;
        grid-template-columns: 3fr 1fr;
    }
</style>

<div class="container ">
    <h1>Quiz</h1>
     
    <div align="right " id="displaytimer"><b>Timer: 0 seconds</b></div>
     
     <form method='POST' action="{% url 'lobby' lobby.id %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="question">{{question.question}}</label>
        </div>
        <div class="form-check">
            {% for answer in answers %}
            <div class="form-check">
                <input class="form-check-input" type="radio" name="{{question.question}}" id="gridRadios{{answer}}" value="{{answer}}" {% if answer == ans %} checked {% else %} onclick="javascript: return false;" {% endif %}>
                <label class="form-check-label" for="gridRadios{{answer}}">
                    {{answer}}
                </label>
            </div>
            {% endfor %}
            <br>

            <p>{{msg}}</p>
        </div>    

        <input id='timer' type='hidden' name="timer" value="">
        <br>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>

            <!-- <script>
     
                console.log('hello world')
                const timer=document.getElementById('displaytimer')
                console.log(timer.textContent)
                const inputtag = document.getElementById('timer')
     
                t=0
                setInterval(()=>{
                    t+=1
                    timer.innerHTML ="<b>Timer: " +t+" seconds</b>"
                    inputtag.value = t
                },1000)
            </script> -->

     
    </div>


    <!-- <script>
        $(document).ready(function(){
                var csrf = $("input[name=csrfmiddlewaretoken]").val();

        setInterval(getinfo,5000);

        function getinfo(){
            $.ajax({

                type: 'POST',
                url: '/lobbyinfo/{{lobby.id}}/', 
                data: {
                    csrfmiddlewaretoken: csrf
                },
                success: function(response) {

                    //container id in welche die Antowrt geschrieben wird
                    //var temp = "<p>"+response.lobbyid+" "+response.lobbyname+"</p>"
                    //var status = "<p>"+response.lobbystatus+"</p>"
                    //$("#lobbystatus").html(status)
                    //$("#lobbyinfo").append(temp)
                    //console.log("lobby refreshed")
                    if ({{lobby.status}} == 0) {
                        $("#lobbyinfo").html(response)
                        console.log({{lobby.status}})
                    }
                    else console.log("else")
                }
            })
            //check um in der js console (browser(f12)) zu gucken ob die funktion ausgef√ºhrt wird
            //console.log("getLobbies")
            //console.log(document.location.pathname)
        }
        });
    </script> -->



{% endblock %}