{% extends 'base_layout.html' %}

{% block content %}

<style>
    .room-container{
        display: grid;
        grid-template-columns: 3fr 1fr;
    }
</style>


    <div>
        {% if lobby.status == 0 %}
        <h3>{{lobby.name}}</h3>
        <p>Lobby Host:{{lobby.host}}</p>
        <p>{{lobby.id}}</p>
        <p>{{lobby.category}}</p>
        <p>{{lobby.status}}</p>
        {% for part in lobby.participants %}
        <p>{{part}}</p>
        {% endfor %}
        <hr>
        <a href="{% url 'join_lobby' lobby.id %}">Join Lobby</a> <a href="{% url 'leave_lobby' lobby.id %}">Leave Lobby</a>
        <a href="{% url 'start_lobby' lobby.id %}">Start Lobby</a>
        {% else %}
        <p>lobby started</p>



        <div class="container ">
        <h1>Welcome to DataFlair Quiz</h1>
         
        <div align="right " id="displaytimer"><b>Timer: 0 seconds</b></div>
         
         <form method='post' action="{% url 'lobby' lobby.id %}">
            {% csrf_token %}
            {% for q  in lobby.questions%}
            <div class="form-group">
              <label for="question">{{q.question}}</label>
            </div>
            <div class="form-check">
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios1" value="{{q.answer_correct}}">
                    <label class="form-check-label" for="gridRadios1">
                        {{q.answer_correct}}
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="{{q.question}}" id="gridRadios2" value="{{q.answer_wrong_1}}">
                    <label class="form-check-label" for="gridRadios2">
                        {{q.answer_wrong_1}}
                    </label>
                </div>
                <br>
            </div>    
            {% endfor %}
            <input id='timer' type='hidden' name="timer" value="">
            <br>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
            {% block script %}
                <script>
         
                    console.log('hello world')
                    const timer=document.getElementById('displaytimer')
                    console.log(timer.textContent)
                    const inputtag = document.getElementById('timer')
         
                    t=0
                    setInterval(()=>{
                        t+=1
                        timer.innerHTML ="<b>Timer: " +t+" seconds</b>"
                        inputtag.value = t
                    },1000)
                </script>
            {% endblock script %}
         
        </div>







        {% for q in lobby.questions %}
        <p>{{q.question}}</p>


        {% endfor %}
        {% endif %}
    </div>


{% endblock %}